<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sleek Vins Portfolio 🚀</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Define a base window size for tablet/desktop */
            --window-width: 60%;
            --window-height: 80%;
            --dock-icon-size: 50px;
            --widget-width: 400px; /* Increased widget width for more space */
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #1a1a1a;
            user-select: none;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }

        .desktop {
            position: relative;
            width: 100vw;
            height: 100vh;
            background-image: url('https://images.unsplash.com/photo-1750494733502-30427edd0efc?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');
            background-size: cover;
            background-position: center;
        }

        /* --- DOCK STYLES: RIGHT SIDE, VERTICAL --- */
        .dock-container {
            position: absolute;
            top: 50%;
            bottom: auto;
            right: 20px;
            left: auto;
            transform: translateY(-50%);
            z-index: 1000;
        }

        .dock {
            padding: 20px 10px;
            background: rgba(43, 43, 43, 0.25);
            backdrop-filter: blur(20px);
            border-radius: 20px; 
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            flex-direction: column;
            gap: 20px;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
            align-items: center;
        }
        
        /* Widget Layout: Stacked Left (for About, Tools, Projects) */
        .widget-layout {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 40px;
            padding: 20px;
            max-width: calc(100vw - 120px);
            max-height: 90vh;
            overflow-y: auto;
            /* Adjust padding to account for the right dock */
            padding-right: 100px;
        }

        /* --- WINDOW & POPUP STYLES (Used for Experience and Contacts) --- */

        .window {
            position: absolute;
            width: var(--window-width);
            max-width: 900px;
            min-width: 300px;
            height: var(--window-height);
            min-height: 300px;
            background: rgba(230, 230, 230, 0.9);
            backdrop-filter: blur(15px);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            display: none;
            flex-direction: column;
            z-index: 10;
            top: 50%; 
            left: 50%; 
            transform: translate(-50%, -50%);
        }

        .window-header {
            height: 30px;
            background: rgba(200, 200, 200, 0.5);
            display: flex;
            align-items: center;
            padding: 0 10px;
            cursor: grab;
        }
        
        .window-controls {
            display: flex;
            gap: 8px;
        }

        .window-controls > div {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border: 1px solid rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }

        .window-close { background-color: #ff5f56; }
        .window-minimize { background-color: #ffbd2e; }
        .window-maximize { background-color: #27c93f; }

        .window-content {
            flex-grow: 1;
            padding: 20px;
            color: #333;
            overflow-y: auto;
        }

        .clock {
            position: absolute;
            top: 15px;
            right: 15px;
            color: rgb(255, 255, 255);
            font-size: 14px;
            font-weight: 500;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            z-index: 100;
        }

        .map-frame {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 12px;
        }

        /* --- WIDGET STYLES (Used for About Me, Tools, Projects) --- */
        .widget {
            padding: 20px; 
            background: rgba(0, 0, 0, 0.25);
            backdrop-filter: blur(20px);
            border-radius: 18px; 
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            color: #ffffff;
            font-weight: 500;
            width: var(--widget-width);
        }

        /* Styling for the consolidated About Me widget */
        .about-widget {
            padding: 25px; /* Slightly larger padding for prominence */
        }
        .about-widget .info-section {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-weight: 400;
            color: #ccc;
        }
        .about-widget .info-section:last-of-type {
            border-bottom: none;
        }
        
        .about-widget .hobbies-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1); /* Separator line for hobbies */
        }
        .about-widget .hobby-item {
            text-align: center;
        }
        .about-widget .hobby-item img {
            width: 100%;
            height: 70px;
            object-fit: cover;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
            transition: transform 0.2s;
        }
        .about-widget .hobby-item img:hover {
            transform: scale(1.05);
        }

        /* General Dock Item Styles */
        .dock-item {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .dock-icon {
            position: relative;
            width: var(--dock-icon-size);
            height: var(--dock-icon-size);
            background-color: #555;
            border-radius: 12px;
            transition: transform 0.2s ease-in-out, background-color 0.2s;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }

        .dock-icon:hover {
            transform: scale(1.1);
            background-color: #666;
        }

        .dock-item-active::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 100%;
            transform: translateY(-50%);
            margin-left: 5px; 
            margin-top: 0;
            width: 5px;
            height: 5px;
            background-color: white;
            border-radius: 50%;
        }
        
        .dock-icon-img {
            width: 70%;
            height: 70%;
            border-radius: 8px;
            object-fit: cover;
        }

        .dock-icon-name {
            color: white;
            font-size: 11px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
            text-align: center;
        }

        /* Tool and Project Specific Layouts */
        .tools-widget .grid-cols-5 {
             grid-template-columns: repeat(5, minmax(0, 1fr));
        }
        .projects-widget .project-grid {
             grid-template-columns: repeat(2, minmax(0, 1fr));
             gap: 15px;
        }
        
        .project-item {
            background-color: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            transition: background-color 0.2s;
            cursor: pointer;
        }
        
        .project-item:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        /* Small screen adjustment */
        @media (max-width: 500px) {
            :root {
                --dock-icon-size: 30px;
                --widget-width: 90%;
            }
            .widget-layout {
                padding-right: 20px;
            }
            .about-widget .hobbies-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>

    <div class="desktop">
        
        <div id="clock" class="clock"></div>

        <div class="dock-container">
            <div class="dock">
                
                <div class="dock-item" data-window-id="experience-window">
                    <div class="dock-icon">
                        <img class="dock-icon-img" src="https://www.semi.org/sites/semi.org/files/styles/555x419/public/picture/STMicro%2520main.jpg.webp?itok=jjFiMNoU">
                    </div>
                    <p class="dock-icon-name">Experience</p>
                </div>
                <div class="dock-item" data-window-id="contact-window">
                    <div class="dock-icon">
                        <img class="dock-icon-img" src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Mail_%28iOS%29.svg/2048px-Mail_%28iOS%29.svg.png">
                    </div>
                    <p class="dock-icon-name">Contacts</p>
                </div>
            </div>
        </div>

        <div class="widget-layout">
            
            <div id="about-me-widget" class="widget about-widget">
                <h1 class="text-2xl font-bold mb-1 text-center">Vincentiu Mocanu</h1>
                <p class="text-sm font-light text-center mb-4 text-gray-300">Power Electronics Engineer & Software Enthusiast 💡</p>
                
                <div class="info-section">
                    <strong>Technical Focus:</strong>
                    <p class="mt-1">Power Systems & Validation (ISO 16750)</p>
                </div>
                <div class="info-section">
                    <strong>Primary Code:</strong>
                    <p class="mt-1">Rust, C, Python, MATLAB/Simulink</p>
                </div>

                <h2 class="text-xl font-bold mt-4 mb-3 text-center">Hobbies & Passions 🏍️🗺️</h2>
                <div class="hobbies-grid">
                    <div class="hobby-item">
                        <img src="https://blog.nashtechglobal.com/wp-content/uploads/2023/06/Embedded-testing-challenge-and-solution-01.png">
                        <p class="text-xs mt-1">Embedded Systems</p>
                    </div>
                    <div class="hobby-item">
                        <img src="https://images.unsplash.com/photo-1606907568152-58fcb0a0a4e5?fm=jpg&q=60&w=3000&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8bW90b3JiaWllfGVufDB8fDB8fHww">
                        <p class="text-xs mt-1">Motorbiking</p>
                    </div>
                    <div class="hobby-item">
                        <img src="https://images.unsplash.com/photo-1541315610731-9f9f8c6b7531?q=80&w=200&auto=format&fit=crop">
                        <p class="text-xs mt-1">Travel & Photography</p>
                    </div>
                </div>
            </div>

            <div id="tools-widget" class="widget tools-widget">
                <h1 class="text-xl font-bold mb-4">My Tools 🔧</h1>
                <div class="grid grid-cols-5 gap-4">
                    <div class="flex flex-col items-center">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d5/Rust_programming_language_black_logo.svg/2000px-Rust_programming_language_black_logo.svg.png" class="w-10 h-10 object-contain rounded-md">
                        <p class="text-xs text-center mt-1">Rust</p>
                    </div>
                    <div class="flex flex-col items-center">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/1/18/C_Programming_Language.svg" class="w-10 h-10 object-contain rounded-md">
                        <p class="text-xs text-center mt-1">C</p>
                    </div>
                    <div class="flex flex-col items-center">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/c/c3/Python-logo-notext.svg" class="w-10 h-10 object-contain rounded-md">
                        <p class="text-xs text-center mt-1">Python</p>
                    </div>
                    <div class="flex flex-col items-center">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Unofficial_JavaScript_logo_2.svg/1024px-Unofficial_JavaScript_logo_2.svg.png" class="w-10 h-10 object-contain rounded-md">
                        <p class="text-xs text-center mt-1">JS</p>
                    </div>
                    <div class="flex flex-col items-center">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRjB_NjyF7A35KjCKejyj7qjTw7r_c-07McGg&s" class="w-10 h-10 object-contain rounded-md">
                        <p class="text-xs text-center mt-1">Matlab</p>
                    </div>
                    <div class="flex flex-col items-center">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/3/36/Simulink_Logo_%28non-wordmark%29.png" class="w-10 h-10 object-contain rounded-md">
                        <p class="text-xs text-center mt-1">Simulink</p>
                    </div>
                    <div class="flex flex-col items-center">
                        <img src="https://www.mathworks.com/products/simscape/_jcr_content/mainParsys/band_copy_copy_copy/mainParsys/columns/17d54180-2bc7-4dea-9001-ed61d4459cda/thumbnail.adapt.full.medium.jpg/1756239428756.jpg" class="w-10 h-10 object-contain rounded-md">
                        <p class="text-xs text-center mt-1">SimScape</p>
                    </div>
                    <div class="flex flex-col items-center">
                        <img src="https://europe1.discourse-cdn.com/flex006/uploads/plecs/original/1X/916c49fe9f879d1d8dbeb114d77b4ab7d18bbe04.png" class="w-10 h-10 object-contain rounded-md">
                        <p class="text-xs text-center mt-1">PLECS</p>
                    </div>
                    <div class="flex flex-col items-center">
                        <img src="https://les-enovateurs.com/_next/image?url=https%3A%2F%2Fstatic.les-enovateurs.com%2Fuploads%2F2016%2F11%2Flarge_v-dark.png&w=3840&q=75" class="w-10 h-10 object-contain rounded-md">
                        <p class="text-xs text-center mt-1">Docker</p>
                    </div>
                    <div class="flex flex-col items-center">
                        <img src="https://orbstack.dev/img/icon256.png" class="w-10 h-10 object-contain rounded-md">
                        <p class="text-xs text-center mt-1">Orbstack</p>
                    </div>
                </div>
            </div>
            
            <div id="projects-widget" class="widget projects-widget">
                <h1 class="text-xl font-bold mb-4">Projects 🚀</h1>
                <div class="project-grid grid gap-4">
                    <a href="https://itsvinm-powertrain-case-selection-powertrain-sim-1k95tr.streamlit.app/" target="_blank" rel="noopener noreferrer">
                        <div class="project-item flex items-center p-3 rounded-xl hover:bg-white/10 transition-colors">
                            <img src="https://di-uploads-pod16.dealerinspire.com/toyotaofnorthcharlotte/uploads/2022/12/vehicle-powertrain.jpg" class="w-12 h-12 object-contain rounded-md mr-3">
                            <p class="text-sm text-white font-semibold">Powertrain Simulation Tool</p>
                        </div>
                    </a>
                    <a href="https://itsvinm-tracker-tracker-bhweqt.streamlit.app/" target="_blank" rel="noopener noreferrer">
                        <div class="project-item flex items-center p-3 rounded-xl hover:bg-white/10 transition-colors">
                            <img src="https://img.freepik.com/free-photo/green-check-mark-symbol-icon-sign-correct-right-approve-concept-confirm-illustration-isolated-green-background-3d-rendering_56104-1220.jpg" class="w-12 h-12 object-contain rounded-md mr-3">
                            <p class="text-sm text-white font-semibold">Validation Tracker App</p>
                        </div>
                    </a>
                    <a href="https://github.com/itsVinM/GameBoy" target="_blank" rel="noopener noreferrer">
                        <div class="project-item flex items-center p-3 rounded-xl hover:bg-white/10 transition-colors">
                            <img src="https://fms.komkon.org/VGB/snaps/PokemonSilver.png" class="w-12 h-12 object-contain rounded-md mr-3">
                            <p class="text-sm text-white font-semibold">GameBoy Emulator in Rust</p>
                        </div>
                    </a>
                </div>
            </div>
        </div>
        
        <div id="experience-window" class="window small-centered" style="display: none;">
            <div class="window-header">
                <div class="window-controls">
                    <div class="window-close"></div>
                    <div class="window-minimize"></div>
                    <div class="window-maximize"></div>
                </div>
                <span class="window-title">Work Experience</span>
            </div>
            <div class="window-content">
                </div>
        </div>

        <div id="contact-window" class="window small-centered" style="display: none;">
            <div class="window-header">
                <div class="window-controls">
                    <div class="window-close"></div>
                    <div class="window-minimize"></div>
                    <div class="window-maximize"></div>
                </div>
                <span class="window-title">Contacts</span>
            </div>
            <div class="window-content">
                </div>
        </div>

    </div>

    <script>
        const windowsData = [ 
            {
                id: 'experience-window',
                title: 'Work Experience',
                className: 'small-centered', 
                content: `
                    <style>
                        /* Add local styling for the photo gallery to the Experience Window */
                        .photo-gallery {
                            display: flex;
                            flex-direction: column;
                            gap: 15px;
                        }
                        .photo-item {
                            display: flex;
                            align-items: flex-start;
                            padding: 10px;
                            background: #fff;
                            border-radius: 8px;
                            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
                        }
                        .photo-item img {
                            width: 60px;
                            height: 60px;
                            object-fit: contain;
                            border-radius: 4px;
                            margin-right: 15px;
                            flex-shrink: 0;
                        }
                        .photo-caption {
                            color: #333;
                        }
                        .photo-caption p {
                            line-height: 1.3;
                        }
                        .text-black-1000 {
                            color: #1a1a1a;
                        }
                    </style>
                    <h1 class="text-2xl font-bold p-5 text-gray-800">Work Experience</h1>
    
                    <div class="photo-gallery px-5 pb-5">
                        <div class="photo-item" >
                            <img src="https://i.ytimg.com/vi/dAegKZf0Ou8/maxresdefault.jpg">
                            <div class="photo-caption">
                                <p class="font-semibold">Premium PSU </p>
                                <p class="text-xs text-black-1000">Power Electronics Validation Engineer (Barcelona 🇪🇸, Sep 2025 - now)</p>
                                <p class="text-xs text-gray-500">Power electronics modeling, design, and functionality/EMC testing</p>
                            </div>
                        </div>
                        <div class="photo-item" >
                            <img src="https://www.applus.com/dam/jcr:1c089c40-631d-4543-943d-79426a3cad5e/Logo%20Applus+_IDIADA-300.png">
                            <div class="photo-caption">
                                <p class="font-semibold">Applis+ IDIADA </p>
                                <p class="text-xs text-black-1000">Power Electronics Validation Engineer (Barcelona 🇪🇸, Jun 2024 - Aug 2025)</p><br>
                                <p class="text-xs text-gray-500">Testing automotive converters for environmental, vibration and electrical compliance under ISO 16750</p>
                            </div>
                        </div>
                        <div class="photo-item" >
                            <img src="https://cyberinsider.com/wp-content/uploads/2024/04/CPU-Maker-Nexperia-Suffers-Data-Breach-Exposing-Technical-Data.png">
                            <div class="photo-caption">
                                <p class="font-semibold">Nexperia UK</p>
                                <p class="text-xs text-black-1000">Power Electronics Application Engineer (Manchester 🏴󠁧󠁢󠁥󠁮󠁧󠁿, Sep 2022 - Dec 2023)</p><br>
                                <p class="text-xs text-gray-500">Thermal analysis and test of semiconductors under JEDEC</p>
                            </div>
                        </div>
                        <div class="photo-item" >
                            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSj1m592Q_ZSShp7D1bgv4HczEm2HMAa7mTlA&s">
                            <div class="photo-caption">
                                <p class="font-semibold">FPT Industrial </p>
                                <p class="text-xs text-black-1000">Quality Engineer (Turin 🇮🇹, Mar 2022- Aug 2022)</p><br>
                                <p class="text-xs text-gray-500">Tear down and analysis of engines to understand the root cause of the failures</p>
                            </div>
                        </div>
                    </div>
                `,
            },
            {
                id: 'contact-window',
                title: 'Contacts',
                content: `
                    <div class="p-0 flex flex-col h-full">
                        <iframe src="https://maps.google.com/maps?q=Barcelona&z=10&output=embed"
                                    class="map-frame"
                                    allowfullscreen=""
                                    loading="lazy"
                        ></iframe>
                        <div class="p-4 bg-white/90">
                            
                            <h2 class="text-xl font-semibold text-gray-800">Contact Information</h2>
                            <p class="text-sm mt-2 text-gray-700">Feel free to reach out to me via email or connect with me on social media.</p>
                            <ul class="list-disc list-inside mt-2 text-sm">
                                <div class="contact-icons flex justify-center items-center gap-6 mt-4">
                                    <a href="mailto:vincentiu.mocanu00@gmail.com" target="_blank">
                                        <img src="https://upload.wikimedia.org/wikipedia/commons/4/4e/Mail_%28iOS%29.svg" alt="Email" style="width: 25px; height: 25px;">
                                    </a>
                                    <a href="https://www.linkedin.com/in/itsvinm" target="_blank">
                                        <img src="https://upload.wikimedia.org/wikipedia/commons/c/ca/LinkedIn_logo_initials.png" alt="LinkedIn" style="width: 25px; height: 25px;">
                                    </a>
                                    <a href="https://github.com/itsVinM" target="_blank">
                                        <img src="https://upload.wikimedia.org/wikipedia/commons/9/91/Octicons-mark-github.svg" alt="GitHub" style="width: 25px; height: 25px;">
                                    </a>
                                </div>
                            </ul>
                        </div>
                    </div>
                `,
            }
            /* The 'about-window' is removed from windowsData since its content is now in the static widget */
        ];

        const desktop = document.querySelector('.desktop');
        const dockItems = document.querySelectorAll('.dock-item');
        let activeWindow = null;
        let zIndexCounter = 10;
        
        function createWindowEvent(data) {
            const existingEl = document.getElementById(data.id);
            if (existingEl) return existingEl;

            const windowEl = document.getElementById(data.id); // Find the pre-existing element in HTML
            
            // Check if the pre-existing element was found before trying to append content
            if(windowEl) {
                // Pre-existing window (Experience or Contact), just inject content
                const header = windowEl.querySelector('.window-header');
                const contentArea = windowEl.querySelector('.window-content');
                
                // Inject the content
                if (contentArea) contentArea.innerHTML = data.content;
                
                // Set the title
                const titleSpan = windowEl.querySelector('.window-title');
                if (titleSpan) titleSpan.textContent = data.title;
                
                return windowEl;
            }
            
            // If the element wasn't pre-existing, something is wrong, but for this setup 
            // we rely on the HTML structure for Experience and Contact.
            return null;
        }

        function openWindow(id) {
            const windowEl = document.getElementById(id);
            if (!windowEl) return;

            zIndexCounter++;
            windowEl.style.zIndex = zIndexCounter;

            windowEl.style.display = 'flex';
            activeWindow = windowEl;
            
            const dockItem = document.querySelector(`[data-window-id="${id}"]`);
            if (dockItem) {
                dockItems.forEach(item => item.classList.remove('dock-item-active'));
                dockItem.classList.add('dock-item-active');
            }
        }

        function closeWindow(id) {
            const windowEl = document.getElementById(id);
            if (windowEl) {
                windowEl.style.display = 'none';
                if (activeWindow === windowEl) {
                    activeWindow = null;
                }
            }
            const dockItem = document.querySelector(`[data-window-id="${id}"]`);
            if (dockItem) {
                dockItem.classList.remove('dock-item-active');
            }
        }

        function minimizeWindow(id) {
            const windowEl = document.getElementById(id);
            if (windowEl) {
                windowEl.style.display = 'none';
            }
        }

        function maximizeWindow(id) {
            const windowEl = document.getElementById(id);
            if (windowEl) {
                 windowEl.classList.toggle('fullscreen');
            }
        }

        function makeDraggable(header) {
            let isDragging = false;
            let offsetX, offsetY;
            const windowEl = header.closest('.window');

            if (!windowEl) return;
            
            function handleMouseDown(e) {
                e.preventDefault();
                isDragging = true;
                const rect = windowEl.getBoundingClientRect();
                offsetX = e.clientX - rect.left;
                offsetY = e.clientY - rect.top;

                zIndexCounter++;
                windowEl.style.zIndex = zIndexCounter;

                windowEl.style.cursor = 'grabbing';
            }

            function handleMouseMove(e) {
                if (!isDragging) return;
                
                let newX = e.clientX - offsetX;
                let newY = e.clientY - offsetY;

                newX = Math.max(0, Math.min(newX, window.innerWidth - windowEl.offsetWidth));
                newY = Math.max(0, Math.min(newY, window.innerHeight - windowEl.offsetHeight));
                
                windowEl.style.left = `${newX}px`;
                windowEl.style.top = `${newY}px`;
                windowEl.style.transform = 'none'; 
            }

            function handleMouseUp() {
                isDragging = false;
                windowEl.style.cursor = 'grab';
            }

            header.addEventListener('mousedown', handleMouseDown);
            document.addEventListener('mousemove', handleMouseMove);
            document.addEventListener('mouseup', handleMouseUp);
        }

        function initializeWindows() {
            // Inject content into the pre-existing HTML window structures (Experience and Contact)
            windowsData.forEach(data => {
                createWindowEvent(data);
            });

            // Set up all window controls
            document.querySelectorAll('.window').forEach(windowEl => {
                const id = windowEl.id;
                const closeButton = windowEl.querySelector('.window-close');
                const minimizeButton = windowEl.querySelector('.window-minimize');
                const maximizeButton = windowEl.querySelector('.window-maximize');

                if (closeButton) closeButton.onclick = () => closeWindow(id);
                if (minimizeButton) minimizeButton.onclick = () => minimizeWindow(id);
                if (maximizeButton) maximizeButton.onclick = () => maximizeWindow(id);
            });
            
            // Apply dragging to headers
            document.querySelectorAll('.window-header').forEach(makeDraggable);
        }
        
        function updateClock() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: true });
            document.getElementById('clock').textContent = timeString + ' ' + now.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' });
        }

        document.addEventListener('DOMContentLoaded', () => {
            initializeWindows();

            // Dock event listeners
            dockItems.forEach(item => {
                const windowId = item.getAttribute('data-window-id');
                item.onclick = () => {
                    const windowEl = document.getElementById(windowId);
                    
                    // Toggle visibility of the target window/pop-up
                    if (windowEl && windowEl.style.display === 'flex') {
                        closeWindow(windowId);
                    } else {
                        // Close any other regular windows before opening a new one
                        document.querySelectorAll('.window').forEach(win => {
                            if (win.id !== windowId) closeWindow(win.id);
                        });
                        openWindow(windowId);
                    }
                };
            });
            
            // Clock setup
            updateClock();
            setInterval(updateClock, 1000);
            
        });

    </script>
</body>
</html>